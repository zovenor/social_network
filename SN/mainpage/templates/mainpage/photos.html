{% extends "mainpage/base.html" %}

{% block title %}{{ list.title }}{% endblock %}

{% load static %}

{% block content %}

    <link rel="stylesheet" href="{% static 'mainpage/photos.css' %}">
    {% if error %}
        <script>alert("{{ error }}");</script>
    {% endif %}
    {% if request.GET.add_photo == "True" and  user.is_authenticated %}
        <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
            <h1>{{ list.add_photo }}</h1>
            <input required name="photo" type="file" accept="image/*,image/jpeg">
            <input class="link" value="{{ list.add_photo }}" type="submit">
        </form>

    {% elif photos != None %}

        <h1>{{ list.your_photos }}</h1>
        <div class="photos">
        {% for el in photos %}
            <div class="post">
                <img style="border-radius: 25px" width="400px" src="{{ el }}">
                <p><b>{{ list.date }}: </b>{{ el.date }}</p>
            </div>
        {% endfor %}
        </div>

        <h3><a class="button" href="?add_photo=True">{{ list.add_photo }}</a>
        <a class="button" href="?all=True">{{ list.redirect_to_all_photos }}</a></h3>

    {% else %}

        <h1>{{ list.all_photos }}</h1>
        <div class="photos">
        {% for el in all_photos %}
           <div class="photo">
            <img style="border-radius: 25px" width="400px" src="{{ el }}" alt="">
            <p><b>{{ list.user }}: </b><a href="/{{ el.user.username }}">{{ el.user.first_name }} {{ el.user.last_name }}</a></p>
           <p><b>{{ list.date }}: </b>{{ el.date }}</p>
           </div>
        {% endfor %}
        </div>

    {% endif %}

{% endblock %}